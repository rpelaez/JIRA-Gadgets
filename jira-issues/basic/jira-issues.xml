<?xml version="1.0" encoding="UTF-8" ?>
<Module>
  <ModulePrefs
    title="JIRA BlockChain Viewer Flip"
    author="Raul Pelaez"
    thumbnail="jira-issues-thumbnail.png"
    description="Control all time the price of the BlockChain currencies">

    <Require feature="minimessage" />
    <Require feature="dynamic-height" />
    <Optional feature="auth-refresh"/>
    <Require feature="oauthpopup" />
    <Require feature="setprefs" />
    <Require feature="settitle" />
    <Require feature="views" />
    <Optional feature="atlassian.util" />
    <Optional feature="gadget-directory">
      <Param name="categories">Other</Param>
    </Optional>
    #oauth
    #supportedLocales("gadget.common,your.gadget.resource.prefix")
  </ModulePrefs>

  <Content type="html">
  <![CDATA[
    <script type="text/javascript">
(function () {
       AJS.$.ajax({
            url: "https://coinmarketcap-nexuist.rhcloud.com/api/eth",
            type: "GET",

            contentType: 'application/json; charset=utf-8',
            success: function(json) {
                document.getElementById("eth").innerHTML= (Math.round(json.price.eur * 10000) / 10000)+" EUR"; 
                if ( json.change[0] == "-" ) 
                	color = "<font color='red'>"+json.change+"</font>";
                else 
                 	color = "<font color='green'>"+json.change+"</font>";
                document.getElementById("eth_change").innerHTML= color;
            },
            error : function(jqXHR, textStatus, errorThrown) {
            },

            timeout: 120000,
        });
AJS.$.ajax({
            url: "https://coinmarketcap-nexuist.rhcloud.com/api/btc",
            type: "GET",

            contentType: 'application/json; charset=utf-8',
            success: function(json) {
                document.getElementById("btc").innerHTML= (Math.round(json.price.eur * 10000) / 10000)+" EUR";
                if ( json.change[0] == "-" ) 
                	color = "<font color='red'>"+json.change+"</font>";
                else 
                 	color = "<font color='green'>"+json.change+"</font>";
                document.getElementById("btc_change").innerHTML= color;
            },
            error : function(jqXHR, textStatus, errorThrown) {
            },

            timeout: 120000,
        });
AJS.$.ajax({
            url: "https://coinmarketcap-nexuist.rhcloud.com/api/ltc",
            type: "GET",

            contentType: 'application/json; charset=utf-8',
            success: function(json) {
                document.getElementById("ltc").innerHTML= (Math.round(json.price.eur * 10000) / 10000)+" EUR"; 
                if ( json.change[0] == "-" ) 
                	color = "<font color='red'>"+json.change+"</font>";
                else 
                 	color = "<font color='green'>"+json.change+"</font>";
                document.getElementById("ltc_change").innerHTML= color;
            },
            error : function(jqXHR, textStatus, errorThrown) {
            },

            timeout: 120000,
        });
AJS.$.ajax({
            url: "https://coinmarketcap-nexuist.rhcloud.com/api/vox",
            type: "GET",

            contentType: 'application/json; charset=utf-8',
            success: function(json) {
                document.getElementById("vox").innerHTML= (Math.round(json.price.eur * 10000) / 10000)+" EUR"; 
                if ( json.change[0] == "-" ) 
                	color = "<font color='red'>"+json.change+"</font>";
                else 
                 	color = "<font color='green'>"+json.change+"</font>";
                document.getElementById("vox_change").innerHTML= color;
            },
            error : function(jqXHR, textStatus, errorThrown) {
            },

            timeout: 120000,
        });
AJS.$.ajax({
            url: "https://coinmarketcap-nexuist.rhcloud.com/api/etc",
            type: "GET",

            contentType: 'application/json; charset=utf-8',
            success: function(json) {
                document.getElementById("etc").innerHTML= (Math.round(json.price.eur * 10000) / 10000)+" EUR"; 
                if ( json.change[0] == "-" ) 
                	color = "<font color='red'>"+json.change+"</font>";
                else 
                 	color = "<font color='green'>"+json.change+"</font>";
                document.getElementById("etc_change").innerHTML= color;
            },
            error : function(jqXHR, textStatus, errorThrown) {
            },

            timeout: 120000,
        });
      
       
       })();

    </script>    

<style>
body {
  font-family: Arial, 'Helvetica Neue', Helvetica, sans-serif; font-size: 12px; font-style: normal; 
}
</style>
<table>
<tr><td><b><u>COIN</u></b></td><td><font align="right"><b><u>PRICE</u></b></font></td><td><td><font align="right"><b><u>CHANGE</u></b></font></td><td><b><u><font align="right">GRAPH</font></u></b></td></tr>
<tr><td><b>ETH</b></td><td><font align="right"><div id="eth"></div></font></td><td><td><font align="right"><div id="eth_change"></div></font></td><td><img src="https://files.coinmarketcap.com/generated/sparklines/1027.png" border=1></td></tr>
<tr><td><b>ETC</b></td><td><font align="right"><div id="etc"></div></font></td><td><td><font align="right"><div id="etc_change"></div></font></td><td><img src="https://files.coinmarketcap.com/generated/sparklines/1321.png" border=1></td></tr>
<tr><td><b>VOX</b></td><td><font align="right"><div id="vox"></div></font></td><td><td><font align="right"><div id="vox_change"></div></font></td><td><img src="https://files.coinmarketcap.com/generated/sparklines/1208.png" border=1></td></tr>
<tr><td><b>LTC</b></td><td><font align="right"><div id="ltc"></div></font></td><td><td><font align="right"><div id="ltc_change"></div></font></td><td><img src="https://files.coinmarketcap.com/generated/sparklines/2.png" border=1></td></tr>
<tr><td><b>BTC</b></td><td><font align="right"><div id="btc"></div></font></td><td><td><font align="right"><div id="btc_change"></div></font></td><td><img src="https://files.coinmarketcap.com/generated/sparklines/1.png" border=1></td></tr>
</table>
  ]]>
</Content>
</Module>
